{"version":3,"sources":["api/auth.js","context/AuthContext.jsx","pages/HomePage.jsx","assets/images/ac-logo.svg","components/common/auth.styled.js","assets/images/check-active.svg","assets/images/check-circle.svg","assets/images/check-hover.svg","components/AuthInput.jsx","components/Header.jsx","components/TodoInput.jsx","components/TodoItem.jsx","components/TodoCollection.jsx","components/Footer.jsx","pages/LoginPage.jsx","pages/SignUpPage.jsx","api/todo.js","pages/TodoPage.jsx","App.jsx","reportWebVitals.js","index.js"],"names":["authURL","login","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","username","password","_yield$axios$post","data","wrap","_context","prev","next","axios","post","concat","sent","authToken","abrupt","_objectSpread","success","t0","console","error","stop","_x","_x2","apply","arguments","register","_ref2","_callee2","email","_yield$axios$post2","_context2","_x3","_x4","_x5","checkPermission","_ref3","_callee3","response","_context3","get","headers","Authorization","_x6","defaultAuthContext","isAuthenticated","currentMember","logout","AuthContext","createContext","useAuth","useContext","AuthProvider","children","_useState","useState","_useState2","_slicedToArray","setIsAuthenticated","_useState3","_useState4","payload","setPayload","pathname","useLocation","useEffect","checkTokenIsValid","tempPayload","localStorage","getItem","jwt","_jsx","Provider","value","id","sub","name","_register2","_yield$_register","setItem","_login2","_yield$_login","_logout","_callee4","_context4","removeItem","_x7","_path","_path2","_path3","_path4","HomePage","navigate","useNavigate","StyedContainer","styled","div","_templateObject","_taggedTemplateLiteral","StyledAuthInputContainer","_templateObject2","StyledButton","button","_templateObject3","StyledLinkText","_templateObject4","_excluded","_extends","Object","assign","bind","target","i","length","source","key","prototype","hasOwnProperty","call","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgAcLogo","svgRef","title","titleId","props","width","height","viewBox","fill","xmlns","ref","fillRule","clipRule","d","ForwardRef","StyledContainer","StyledLabel","label","StyledInput","input","AuthInput","type","placeholder","onChange","_jsxs","e","StyledHeader","header","StyledGreetingText","Header","StyledAddTodoContainer","StyledLabelIcon","StyledInputContainer","StyledAddTodoActionContainer","TodoInput","inputValue","onAddTodo","className","htmlFor","onKeyDown","clsx","active","onClick","StyledTaskItem","CheckActiveIcon","CheckCircleIcon","CheckHoverIcon","TodoItem","todo","onSave","onDelete","onToggleDone","onChangeMode","inputRef","useRef","done","isDone","edit","isEdit","onDoubleClick","todoId","defaultValue","current","TodoCollection","todos","map","StyledFooter","footer","Footer","count","LoginPage","setUsername","setPassword","_useAuth","_handleClick","Swal","fire","icon","showConfirmButton","timer","position","AuthContainer","ACLogoIcon","AuthInputContainer","nameInputValue","passwordInputValue","AuthButton","handleClick","Link","to","AuthLinkText","SignUpPage","setEmail","_useState5","_useState6","_handleRegister","emailInputValue","handleRegister","baseUrl","axiosInstance","create","interceptors","request","use","config","token","getTodos","res","createTodo","patchTodo","patch","deleteTodo","_ref4","delete","TodoPage","setTodos","todoChange","setTodoChange","setInputValue","forEach","getTodosAsync","_todos","_handleAddTodo","_handleSave","_handleDelete","_handleToggleDone","newTodo","find","_callee5","_context5","filter","App","BrowserRouter","Routes","Route","path","element","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","document","getElementById","render","React","StrictMode"],"mappings":"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","file":"static/js/main.e2ffc271.chunk.js","sourcesContent":["import axios from 'axios'\n\nconst authURL = \"https://todo-list.alphacamp.io/api/auth\"\n\nexport const login = async (username, password) => {\n  try {\n    const { data } = await axios.post(`${authURL}/login`, { username, password })\n    if (data.authToken) {\n      return { success: true, ...data}\n    }\n    return data\n  } catch (e) {\n    console.error('[Login failed]:', e)\n  }\n}\n\nexport const register = async (username, email, password) => {\n  try {\n    const { data } = await axios.post(`${authURL}/register`, { username, email, password })\n    if (data.authToken) {\n      return { success: true, ...data}\n    }\n    return data\n  } catch (e) {\n    console.error('[Register failed]:', e)\n  }\n}\n\nexport const checkPermission = async (authToken) => {\n  try {\n    const response = await axios.get(`${authURL}/test-token`, {\n      headers: {\n        Authorization: 'Bearer ' + authToken\n      }\n    })\n    return response.data.success\n  } catch (e) {\n    console.error('[Check Permissoin Failed]:', e)\n  }\n}","import { createContext, useState, useEffect } from \"react\";\nimport { register, login, checkPermission } from '../api/auth'\nimport { useLocation } from \"react-router-dom\";\nimport * as jwt from 'jsonwebtoken'\nimport { useContext } from \"react\";\n\nconst defaultAuthContext = {\n  isAuthenticated: false,\n  currentMember: null,\n  register: null,\n  login: null,\n  logout: null\n}\n\nexport const AuthContext = createContext(defaultAuthContext)\nexport const useAuth = () => useContext(AuthContext)\n\nexport function AuthProvider({ children }) {\n  const [isAuthenticated, setIsAuthenticated] = useState(false)\n  const [payload, setPayload] = useState(false)\n  const { pathname } = useLocation()\n\n  useEffect(() => {\n    const checkTokenIsValid = async () => {\n      try {\n        const authToken = localStorage.getItem('authToken')\n        if (!authToken) {\n          setIsAuthenticated(false)\n          setPayload(null)\n          return \n        }\n        \n        const success = await checkPermission(authToken)\n\n        if (success) {\n          setIsAuthenticated(true)\n          const tempPayload = jwt.decode(authToken)\n          setPayload(tempPayload)\n        } else {\n          setIsAuthenticated(false)\n          setPayload(null)\n        }\n      } catch (e) {\n        console.error('[Check Permission Failed: ]', e)\n      }\n    }\n    checkTokenIsValid()\n  }, [pathname])\n\n  return (<AuthContext.Provider\n    value={{\n      isAuthenticated,\n      currentMember: payload && {\n        id: payload.sub,\n        name: payload.name\n      },\n      register: async (username, email, password) => {\n        const { success, authToken } = await register(username, email, password)\n        const tempPayload = jwt.decode(authToken)\n        if (tempPayload) {\n          setIsAuthenticated(true)\n          setPayload(tempPayload)\n          localStorage.setItem('authToken', authToken)\n        } else {\n          setIsAuthenticated(false)\n          setPayload(null)\n        }\n        return success\n      },\n      login: async (username, password) => {\n        const { success, authToken } = await login(username, password)\n        const tempPayload = jwt.decode(authToken)\n        if (tempPayload) {\n          setIsAuthenticated(true)\n          setPayload(tempPayload)\n          localStorage.setItem('authToken', authToken)\n        } else {\n          setIsAuthenticated(false)\n          setPayload(null)\n        }\n        return success\n      },\n      logout: async (username, password) => {\n        localStorage.removeItem('authToken')\n        setIsAuthenticated(false)\n        setPayload(null)\n      }\n    }}\n  >\n    {children}\n  </AuthContext.Provider>)\n}","import { useAuth } from 'context/AuthContext'\nimport { useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nconst HomePage = () => {\n  const { isAuthenticated } = useAuth()\n  const navigate = useNavigate()\n  useEffect(() => {\n    if (isAuthenticated) return navigate(\"/todo\")\n    navigate(\"/login\")\n  }, [navigate, isAuthenticated])\n};\n\nexport default HomePage;\n","var _path, _path2, _path3, _path4;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport * as React from \"react\";\nfunction SvgAcLogo(_ref, svgRef) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 40,\n    height: 40,\n    viewBox: \"0 0 40 40\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M25.6996 18.4709C25.6996 18.4709 18.2328 30.5781 12.1109 30.5781C1.40314 30.5781 11.3821 7.51318 19.1916 7.51318C24.641 7.51318 25.6996 18.4709 25.6996 18.4709Z\",\n    fill: \"#FF6600\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M34.5723 33.6972C32.4451 35.9607 29.8198 37.6976 26.9044 38.7701C23.989 39.8426 20.8639 40.2213 17.7767 39.8761C14.6895 39.5309 11.7252 38.4713 9.11881 36.7813C6.51245 35.0914 4.33573 32.8175 2.76123 30.1401C4.5314 32.5477 7.53375 34.1527 11.803 34.1527C22.3199 34.1527 28.2899 25.98 28.2899 25.98C28.2899 25.98 28.8062 32.4392 34.5593 33.6972H34.5723Z\",\n    fill: \"#FF6600\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M37.7223 10.7451C39.2963 13.7527 40.0781 17.1116 39.9939 20.505C39.9096 23.8984 38.9621 27.2144 37.2407 30.1401C35.8792 29.3764 34.8725 28.1082 34.4379 26.609L32.1558 19.7724L37.7223 10.7451Z\",\n    fill: \"#FF6600\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M20.0031 0.0173688C25.0185 0.0140335 29.8513 1.89881 33.5398 5.29665L29.7521 11.4088C28.3811 7.84302 25.5957 4.2729 20.1767 4.2729C9.07841 4.2729 0.852307 16.3888 0.852307 23.9846C0.849861 24.9669 0.975283 25.9454 1.22543 26.8953C0.115582 23.8725 -0.247948 20.6265 0.165719 17.4331C0.579385 14.2398 1.75802 11.1934 3.60147 8.55306C5.44491 5.91269 7.89866 3.75634 10.7542 2.26726C13.6097 0.778179 16.7826 0.000388507 20.0031 0V0.0173688Z\",\n    fill: \"#FF6600\"\n  })));\n}\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgAcLogo);\nexport default __webpack_public_path__ + \"static/media/ac-logo.f4e0f3cb.svg\";\nexport { ForwardRef as ReactComponent };","import styled from 'styled-components';\n\nconst StyedContainer = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  margin-top: 50px;\n`;\n\nconst StyledAuthInputContainer = styled.div`\n  width: 50%;\n  margin-top: 30px;\n`;\n\nconst StyledButton = styled.button`\n  border-radius: 30px;\n  background-color: #ff6600;\n  border: none;\n\n  color: white;\n  min-width: 300px;\n  font-family: 'Noto Sans TC', sans-serif;\n  font-weight: bold;\n  padding: 6px 0;\n  margin: 2rem 0;\n\n  &.hover {\n    cursor: pointer;\n  }\n`;\n\nconst StyledLinkText = styled.div`\n  color: #0062ff;\n  font-size: 16px;\n  font-weight: 400;\n`;\n\nexport {\n  StyedContainer as AuthContainer,\n  StyledAuthInputContainer as AuthInputContainer,\n  StyledButton as AuthButton,\n  StyledLinkText as AuthLinkText,\n};\n","export default __webpack_public_path__ + \"static/media/check-active.95ca055c.svg\";","export default __webpack_public_path__ + \"static/media/check-circle.30720b46.svg\";","export default __webpack_public_path__ + \"static/media/check-hover.5e00062b.svg\";","import styled from 'styled-components';\n\nconst StyledContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  background-color: #f5f8fa;\n  width: 100%;\n  height: 54px;\n  border-bottom: 2px solid black;\n`;\nconst StyledLabel = styled.label`\n  font-size: 14;\n  color: '#696974';\n  text-align: start;\n`;\n\nconst StyledInput = styled.input`\n  outline: none;\n  border: none;\n  background-color: #f5f8fa;\n  border-radius: 0px;\n`;\n\nconst AuthInput = ({ type, label, value, placeholder, onChange}) => {\n  return (\n    <StyledContainer>\n      <StyledLabel>{label}</StyledLabel>\n      <StyledInput \n        type={type || \"text\"} \n        placeholder={placeholder}\n        value={value}\n        onChange={e => onChange(e.target.value)}/>\n    </StyledContainer>\n  );\n};\n\nexport default AuthInput;\n","import styled from 'styled-components';\nimport { useAuth } from 'context/AuthContext'\n\nconst StyledHeader = styled.header`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  color: var(--major);\n  padding: 0 16px;\n\n  h3 {\n    font-weight: 400;\n    user-select: none;\n  }\n`;\n\nconst StyledGreetingText = styled.div`\n  color: var(--gray);\n  span {\n    color: var(--major);\n  }\n`;\n\nconst Header = () => {\n  const { currentMember } = useAuth()\n  const username = currentMember?.name\n  return (\n    <StyledHeader>\n      <h3>Tasks</h3>\n      <StyledGreetingText>\n        Hi <span>{ username }</span>\n      </StyledGreetingText>\n    </StyledHeader>\n  );\n};\n\nexport default Header;\n","import styled from 'styled-components';\nimport clsx from 'clsx';\n\nconst StyledAddTodoContainer = styled.div`\n  min-height: 52px;\n  display: flex;\n  align-items: center;\n  position: relative;\n  word-wrap: break-word;\n  word-break: break-word;\n  padding: 0 12px;\n  box-shadow: 0 17px 0 -16px #e5e5e5;\n  flex-wrap: wrap;\n\n  &.active {\n    box-shadow: 0 17px 0 -16px var(--major);\n  }\n`;\n\nconst StyledLabelIcon = styled.label`\n  display: inline-flex;\n  font-size: 30px;\n  transition: color 0.2s ease-out;\n  font-weight: 300;\n\n  &:after {\n    content: '+';\n  }\n`;\n\nconst StyledInputContainer = styled.div`\n  min-height: 52px;\n  display: flex;\n  align-items: center;\n  flex: 1;\n  user-select: none;\n\n  input {\n    flex: 1;\n    padding: 8px 12px;\n    border: 0;\n    outline: 0;\n    font-size: 1rem;\n\n    &::placeholder {\n      color: var(--major);\n      font-size: 13px;\n    }\n  }\n  $.active {\n    input::placeholder {\n      color: var(--gray);\n    }\n  }\n`;\n\nconst StyledAddTodoActionContainer = styled.div`\n  button {\n    font-size: 13px;\n    color: var(--major);\n    padding-right: 5px;\n    display: none;\n  }\n\n  &.active {\n    button {\n      display: block;\n    }\n  }\n`;\nconst TodoInput = ({inputValue, onChange, onAddTodo}) => {\n  return (\n    <StyledAddTodoContainer>\n      <StyledLabelIcon className=\"icon\" htmlFor=\"add-todo-input\" />\n      <StyledInputContainer>\n        <input \n        id=\"add-todo-input\" \n        type=\"text\" \n        placeholder=\"新增工作\" \n        value={inputValue} \n        onChange={e => onChange(e.target.value)}\n        onKeyDown={(e) => {\n          if (e.key === 'Enter') onAddTodo()\n        }} />\n      </StyledInputContainer>\n      <StyledAddTodoActionContainer className={clsx('', {active: inputValue.length > 0})}>\n        <button className=\"btn-reset\" onClick={onAddTodo}>新增</button>\n      </StyledAddTodoActionContainer>\n    </StyledAddTodoContainer>\n  );\n};\n\nexport default TodoInput;\n","import { useRef } from 'react'\nimport styled from 'styled-components';\nimport clsx from 'clsx'\nimport {\n  CheckActiveIcon,\n  CheckCircleIcon,\n  CheckHoverIcon,\n} from 'assets/images';\n\nconst StyledTaskItem = styled.div`\n  min-height: 52px;\n  display: flex;\n  align-items: center;\n  position: relative;\n  word-wrap: break-word;\n  word-break: break-word;\n  padding: 0 12px;\n  box-shadow: 0 17px 0 -16px #e5e5e5;\n  flex-wrap: wrap;\n\n  .task-item-body-input {\n    user-select: none;\n    display: none;\n    flex: 1;\n    padding: 8px 0px;\n    border: 0;\n    outline: 0;\n    font-size: 1rem;\n\n    &::placeholder {\n      color: var(--gray);\n      font-size: 13px;\n    }\n  }\n\n  &:hover {\n    background: #fff3eb;\n    box-shadow: inset 0 0 0 1px #fff3eb;\n\n    .task-item-action .btn-destroy {\n      display: inline-flex;\n    }\n  }\n\n  &.done {\n    .task-item-body {\n      color: var(--gray);\n      text-decoration: line-through;\n    }\n\n    .icon-checked {\n      background-image: url(${CheckActiveIcon});\n    }\n  }\n\n  &.edit {\n    .task-item-body-input {\n      display: block;\n    }\n    .task-item-body-text {\n      display: none;\n    }\n    .task-item-action {\n      display: none;\n    }\n  }\n\n  .task-item-checked {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n\n  .task-item-body {\n    font-weight: 400;\n    padding: 8px 12px;\n    flex: 1;\n    display: flex;\n  }\n\n  .task-item-action {\n    .btn-destroy {\n      display: none;\n      font-size: 30px;\n      transition: color 0.2s ease-out;\n      font-weight: 300;\n      &:after {\n        content: '×';\n      }\n    }\n  }\n\n  .icon-checked {\n    background-image: url(${CheckCircleIcon});\n    background-position: center;\n    background-repeat: no-repeat;\n\n    &:hover {\n      transition: background-image 0.5s;\n      background-image: url(${CheckHoverIcon});\n    }\n  }\n`;\n\nconst TodoItem = ({todo, onSave, onDelete, onToggleDone, onChangeMode}) => {\n  const inputRef = useRef(null)\n  function handleKeyDown (e) {\n    if (inputRef.current.value.length && e.key === 'Enter') {\n      onSave({id: todo.id, title: inputRef.current.value})\n    }\n    if (e.key === 'Escape') {\n      onChangeMode({ id: todo.id, isEdit: false })\n    }\n  }\n\n  return (\n    <StyledTaskItem \n      className={clsx('', {\n          done: todo.isDone,\n          edit: todo.isEdit\n        })}>\n      <div \n        className=\"task-item-checked\" \n        onClick={() => onToggleDone(todo.id)}>\n        <span className=\"icon icon-checked\" /> \n      </div>\n      <div \n        className=\"task-item-body\" \n        onDoubleClick={() => onChangeMode({\n          todoId: todo.id, \n          isEdit: true \n        })}>\n        <span className=\"task-item-body-text\">{todo.title}</span>\n        <input\n          ref={inputRef}\n          className=\"task-item-body-input\" \n          defaultValue={todo.title}\n          onKeyDown={handleKeyDown}/>\n      </div>\n      <div className=\"task-item-action \">\n        <button \n          className=\"btn-reset btn-destroy icon\"\n          onClick={() => onDelete(todo.id)}\n        ></button>\n      </div>\n    </StyledTaskItem>\n  );\n};\n\nexport default TodoItem;\n","import TodoItem from './TodoItem';\n\nconst TodoCollection = ({ todos, onSave, onDelete, onToggleDone, onChangeMode }) => {\n  return (\n    <div>\n      TodoCollection\n      {todos.map(todo => \n      <TodoItem \n      key={todo.id} \n      todo={todo}\n      onSave={onSave}\n      onDelete={onDelete}\n      onToggleDone={onToggleDone}\n      onChangeMode={onChangeMode}\n      />\n      )}\n    </div>\n  );\n};\n\nexport default TodoCollection;\n","import styled from 'styled-components';\nimport { useNavigate } from 'react-router-dom'\nimport { useAuth } from 'context/AuthContext'\n\nconst StyledFooter = styled.footer`\n  display: flex;\n  justify-content: space-between;\n\n  padding: 0 16px;\n  p {\n    font-size: 14px;\n    font-weight: 300;\n    margin: 2rem 0 1rem;\n  }\n`;\n\nconst StyledButton = styled.button`\n  padding: 0;\n  border: 0;\n  background: none;\n  vertical-align: baseline;\n  appearance: none;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  cursor: pointer;\n  outline: 0;\n\n  font-size: 14px;\n  font-weight: 300;\n  margin: 2rem 0 1rem;\n  &:hover {\n    text-decoration: underline;\n  }\n`;\n\nconst Footer = ({count}) => {\n  const navigate = useNavigate()\n  const { logout } = useAuth()\n\n  const handleLogout = () => {\n    logout()\n  }\n  return (\n    <StyledFooter>\n      <p>剩餘項目數： {count}</p>\n      <StyledButton\n        onClick={handleLogout}\n      >登出</StyledButton>\n    </StyledFooter>\n  );\n};\n\nexport default Footer;\n","import {\n  AuthContainer,\n  AuthInputContainer,\n  AuthButton,\n  AuthLinkText,\n} from 'components/common/auth.styled';\nimport { ACLogoIcon } from 'assets/images';\nimport { AuthInput } from 'components';\nimport { useState, useEffect } from 'react'\nimport { Link, useNavigate } from 'react-router-dom'\nimport { useAuth } from 'context/AuthContext'\nimport Swal from 'sweetalert2'\n\n\nconst LoginPage = () => {\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const { login, isAuthenticated } = useAuth()\n  const navigate = useNavigate()\n\n  useEffect(() => {\n    if (isAuthenticated) navigate(\"/todo\")\n  }, [navigate, isAuthenticated])\n\n\n  async function handleClick(username, password) {\n    try {\n      if (!username.length) return \n      if (!password.length) return\n\n      const success = await login(username, password)\n      if (success) {\n        return Swal.fire({\n          title: '登入成功!',\n          icon: 'success',\n          showConfirmButton: false,\n          timer: 1000,\n          position: 'top'\n        })\n      }\n      Swal.fire({\n          title: '登入失敗!',\n          icon: 'error',\n          showConfirmButton: false,\n          timer: 1000,\n          position: 'top'\n      })\n    } catch (e) {\n      console.error(e)\n    }\n  }\n\n\n\n  return (\n    <AuthContainer>\n      <div>\n        <ACLogoIcon />\n      </div>\n      <h1>登入 Todo</h1>\n\n      <AuthInputContainer>\n        <AuthInput\n          name=\"username\"\n          label=\"帳號\"\n          placeholder=\"請輸入帳號\"\n          value={username}\n          onChange={nameInputValue => setUsername(nameInputValue)} />\n      </AuthInputContainer>\n\n      <AuthInputContainer>\n        <AuthInput\n          name=\"password\"\n          type=\"password\"\n          label=\"密碼\"\n          placeholder=\"請輸入密碼\"\n          value={password}\n          onChange={passwordInputValue => setPassword(passwordInputValue)} />\n      </AuthInputContainer>\n      <AuthButton\n        onClick={() => handleClick(username, password)}\n      >登入</AuthButton>\n      <Link to=\"/signup\">\n        <AuthLinkText\n\n        >註冊</AuthLinkText>\n      </Link>\n    </AuthContainer>\n  );\n};\n\nexport default LoginPage;\n","import {\n  AuthContainer,\n  AuthInputContainer,\n  AuthButton,\n  AuthLinkText,\n} from 'components/common/auth.styled';\nimport { ACLogoIcon } from 'assets/images';\nimport { AuthInput } from 'components';\nimport { useState, useEffect } from 'react'\nimport { Link, useNavigate } from 'react-router-dom'\nimport { useAuth } from 'context/AuthContext'\nimport Swal from 'sweetalert2'\n\nconst SignUpPage = () => {\n  const [username, setUsername] = useState('')\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n  const navigate = useNavigate()\n  const { register, isAuthenticated } = useAuth()\n\n  useEffect(() => {\n    if (isAuthenticated) return navigate(\"/todo\")\n  }, [navigate, isAuthenticated])\n\n  async function handleRegister(username, email, password) {\n    try {\n      if (!username.length) return\n      if (!email.length) return \n      if (!password.length) return\n\n      const success = await register(username, email, password)\n\n      if (success) {\n        return Swal.fire({\n          title: '註冊成功!',\n          icon: 'success',\n          showConfirmButton: false,\n          timer: 1000,\n          position: 'top'\n        })\n      }\n\n      Swal.fire({\n          title: '註冊失敗!',\n          icon: 'error',\n          showConfirmButton: false,\n          timer: 1000,\n          position: 'top'\n      })\n    } catch (e) {\n      console.error(e)\n    }\n  }\n\n\n  return (\n    <AuthContainer>\n      <div>\n        <ACLogoIcon />\n      </div>\n      <h1>建立您的帳號</h1>\n\n      <AuthInputContainer>\n        <AuthInput \n          label=\"帳號\"\n          placeholder=\"請輸入帳號\"\n          value={username}\n          onChange={nameInputValue => setUsername(nameInputValue)} \n        />\n      </AuthInputContainer>\n\n      <AuthInputContainer>\n        <AuthInput\n          type=\"email\"\n          label=\"email\"\n          placeholder=\"請輸入email\"\n          value={email}\n          onChange={emailInputValue => setEmail(emailInputValue)} \n        />\n      </AuthInputContainer>\n\n      <AuthInputContainer>\n        <AuthInput\n          type=\"password\"\n          label=\"密碼\"\n          placeholder=\"請輸入密碼\"\n          value={password}\n          onChange={passwordInputValue => setPassword(passwordInputValue)} \n        />\n      </AuthInputContainer>\n      <AuthButton\n        onClick={() => handleRegister(username, email, password)}\n      >註冊</AuthButton>\n      <Link to=\"/login\">\n       <AuthLinkText>取消</AuthLinkText>\n      </Link>\n    </AuthContainer>\n  );\n};\n\nexport default SignUpPage;\n","import axios from 'axios'\n\nconst baseUrl = 'https://todo-list.alphacamp.io/api'\n\nconst axiosInstance = axios.create({baseUrl})\naxiosInstance.interceptors.request.use(\n  (config) => {\n    const token = localStorage.getItem(\"authToken\")\n    if (token) config.headers['Authorization'] = `Bearer ${token}`\n    return config\n  }, (error) =>  console.error(error)\n)\n\nexport const getTodos = async () => {\n  try {\n    const res = await axiosInstance.get(`${baseUrl}/todos`)\n    return res.data.data\n  } catch (e) {\n    console.error('[Get Todos failed]: ', e)\n  }\n}\nexport const createTodo = async (payload) => {\n  try {\n    const { title, isDone } = payload\n    const res = await axiosInstance.post(`${baseUrl}/todos`, {\n      title,\n      isDone\n    })\n    return res.data.data\n  } catch (e) {\n    console.error('[Create Todo failed]: ', e)\n  }\n}\nexport const patchTodo = async (payload) => {\n  try {\n      const {id, title, isDone} = payload\n      const res = await axiosInstance.patch(`${baseUrl}/todos/${id}`, {\n        title,\n        isDone\n      })\n      return res.data.data\n  } catch(e) {\n    console.error(e)\n  }\n}\nexport const deleteTodo = async (id) => {\n  try {\n    const res = await axiosInstance.delete(`${baseUrl}/todos/${id}`)\n    return res.data.data\n  } catch (e) {\n    console.error(e)\n  }\n}\n","import { Footer, Header, TodoCollection, TodoInput } from 'components';\nimport { useState, useEffect } from 'react'\nimport { getTodos, createTodo, patchTodo, deleteTodo } from '../api/todo';\nimport { useNavigate } from 'react-router-dom'\nimport { useAuth } from 'context/AuthContext'\n\n\nconst TodoPage = () => {\n  \n  const [todos, setTodos] = useState([])\n  const [todoChange, setTodoChange] = useState(true)\n  const [inputValue, setInputValue] = useState('')\n  const navigate = useNavigate()\n  const { isAuthenticated } = useAuth()\n\n  useEffect(() => {\n    if (!isAuthenticated) return navigate(\"/login\")\n  }, [navigate, isAuthenticated])\n\n  let count = 0\n  todos.forEach(todo => {\n    if (!todo.isDone) count ++\n  })\n\n\n\n  // useEffect(() => {}, [])\n  // useEffect(函式, dependencies(陣列表示))\n  // useEffect原理：\n  // 情況1 一開始：先用原本內容去 render，再跑useEffect的function，再重新re-render\n  // 情況2 每當dependencies內的參數有re-render，就執行這個函式，\n  // 情況3 如果dependencies為空陣列，就會在render這個大component的時候，跑一次此函式而已\n  // 情況4 如果直接沒傳dependencies參數，就會每次re-render就執行這個useEffect\n\n\n  // 下面這個例子，不能讓他每次re render，因為函式裡有setTodos()，會無限loop，所以是專門開另外個state: todochange 給他用\n  useEffect(() => {\n    const getTodosAsync = async () => {\n      try {\n        const todos = await getTodos()\n        setTodos(todos.map(todo => ({...todo, isEdit: false})))\n      } catch (e) {\n        console.error(e)\n      }\n    }\n    getTodosAsync()\n  }, [todoChange])\n\n  \n  return (\n    <div>\n      TodoPage\n      <Header />\n      <TodoInput\n      inputValue={inputValue}\n      onChange={handleChange}\n      onAddTodo={handleAddTodo}\n      />\n      <TodoCollection \n      todos={todos}\n      onSave={handleSave}\n      onDelete={handleDelete}\n      onToggleDone={handleToggleDone}\n      onChangeMode={handleChangeMode}\n      />\n      <Footer count={count}/>\n    </div>\n  );\n\n  function handleChange(value) {\n    setInputValue(value)\n  }\n\n  async function handleAddTodo (e) {\n    try {\n      if (inputValue.length === 0) return \n      await createTodo({\n        title: inputValue,\n        isDone: false\n      })\n      // setTodos([\n      //   ...todos,\n      //   {\n      //     id: data.id,\n      //     title: data.title,\n      //     isDone: data.isDone,\n      //     isEdit: false\n      //   }\n      // ])\n      setTodoChange(!todoChange)\n      setInputValue('')\n    } catch(error) {\n      console.error(error)\n    }\n  }\n\n  async function handleToggleDone(todoId) {\n    try {     \n      // let newTodo\n      // const newTodos = todos.map(todo => {\n      //   if (todo.id !== todoId) {\n      //     return todo\n      //   }\n      //   newTodo = {...todo, isDone: !todo.isDone}\n      //   return newTodo\n      // })\n\n      const newTodo = todos.find(todo => todo.id === todoId)\n      await patchTodo({...newTodo, isDone: !newTodo.isDone})\n      setTodoChange(!todoChange)\n    } catch(e) {\n      console.error(e)\n    }\n  }\n\n  function handleChangeMode ({todoId, isEdit}) {\n    setTodos(todos.map(todo => {\n      if (todo.id === todoId) return {...todo, isEdit}\n      return {...todo, isEdit: false}\n    }))\n  }\n\n  async function handleSave ({ id, title }) {\n    try {\n      // let newTodo\n      // const newTodos = todos.map(todo => {\n      //   if (todo.id !== id) {\n      //     return todo\n      //   }\n      //   newTodo = {...todo, title}\n      //   return {...newTodo, isEdit: false}\n      // })\n\n      const newTodo = todos.find(todo => todo.id === id)\n      await patchTodo({...newTodo, title})\n      setTodoChange(!todoChange)\n\n      // const todo = todos.find(todo => todo.id === id)\n      // setTodos(todos.map(todo => {\n      //   if (todo.id === id) return { ...todo, title, isEdit: false }\n      //   return todo\n      // }))\n    } catch (e) {\n      console.error(e)\n    }\n  }\n\n  async function handleDelete(id) {\n    try {\n      await deleteTodo(id)\n      setTodos(todos.filter(todo => todo.id !== id))\n    } catch (e) {\n      console.error(e)\n    }\n  }\n};\n\n\n\nexport default TodoPage;\n","import './App.scss';\nimport { BrowserRouter, Route, Routes } from 'react-router-dom';\nimport { TodoPage, LoginPage, SignUpPage, HomePage } from './pages';\nimport { AuthProvider } from './context/AuthContext.jsx';\n\nfunction App() {\n  return (\n    <div className=\"app\">\n      <BrowserRouter>\n        <AuthProvider>\n          <Routes>\n            <Route path=\"login\" element={<LoginPage />} />\n            <Route path=\"signup\" element={<SignUpPage />}/>\n            <Route path=\"todo\" element={<TodoPage />} />\n\n            {/* 上面三個路徑以外的，用星號表示 */}\n            <Route path=\"*\" element={<HomePage />} />\n          </Routes>\n        </AuthProvider>\n      </BrowserRouter>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}